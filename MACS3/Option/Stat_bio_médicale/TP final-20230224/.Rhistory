cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
load("cmv.rdata")
model_diab<- glm(time.to.cmv ~., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_diab<- glm(cgvhd ~ ., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_diab<- glm(cmv ~ ., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_diab<- glm(cmv ~ aKIRs, data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_aKIRs<- glm(cmv ~ aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRs)
llr <- 2 * (model_aKIRs$null.deviance - model_aKIRs$deviance)
df <- model_aKIRs$df.null - model_aKIRs$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
summary(model_aKIRs)
# Chunk 1
set.seed(2)
n=500
x1=rexp(n,1/5)
x2=floor(runif(n,18,100))
y=rep(0,n)
for(i in 1:n){
r=x1[i]
y[i]=rbinom(1,1,exp(-r/2))
}
datum=data.frame(x1=x1,x2=x2,y=y)
# Chunk 2
model <- glm(y ~ x1+x2, data = datum, family = binomial)
print(model)
# Chunk 3
summary(model)
# Chunk 4
model <- glm(y ~ x1, data = datum, family = binomial)
print(model)
# Chunk 5
n=1000
x1=rnorm(n,0,1)
x2=rnorm(n,0,4)
for(i in 1:n){
y[i]=rbinom(1,1,exp(-2+x1[i]+x2[2]+20*x1[i]*x2[i]))
}
data=data.frame(x1=x1,x2=x2,y=y)
# Chunk 6
model <- glm(y ~ ., data = data, family = binomial)
print(model)
# Chunk 7
llr <- 2 * (model$null.deviance - model$deviance)
df <- model$df.null - model$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
# Chunk 8
x3=x2*x1
data_x3=data.frame(x1=x1,x2=x2,x3,y=y)
model <- glm(y ~ ., data = data_x3, family = binomial)
print(model)
# Chunk 9
data<-read.csv(file ='data_diabetis')
# Chunk 10
#Nombre de personne avec le diabete (501)
sum(data$y)
data$X<-NULL
# Chunk 11
model_diab<- glm(y ~ ., data = data, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
# Chunk 12
summary(model_diab)
# Chunk 13
IMC=data$poids/((data$taille)/1000)^2
#data=cbind(data,IMC)
x3=data$poids/(data$taille)
data=cbind(data,x3)
# Chunk 14
model2_diab<- glm(y ~ ., data = data, family = binomial)
print(model_diab)
llr <- 2 * (model2_diab$null.deviance - model2_diab$deviance)
df <- model2_diab$df.null - model2_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
# Chunk 15
pchisq(45,1)
# Chunk 16
heart_disease_dataset <- read.csv(file = "processed.cleveland.data", header = F)
# Chunk 17
#Prepare column names
names <- c("Age",
"Sex",
"Chest_Pain_Type",
"Resting_Blood_Pressure",
"Serum_Cholesterol",
"Fasting_Blood_Sugar",
"Resting_ECG",
"Max_Heart_Rate_Achieved",
"Exercise_Induced_Angina",
"ST_Depression_Exercise",
"Peak_Exercise_ST_Segment",
"Num_Major_Vessels_Flouro",
"Thalassemia",
"Diagnosis")
#Apply column names to the dataframe
colnames(heart_disease_dataset) <- names
#Glimpse data to verify new column names are in place, only with tidyverse library
#glimpse(heart_disease_dataset)
head(heart_disease_dataset)
summary(heart_disease_dataset)
# Chunk 18
heart_disease_dataset$Diagnosis=heart_disease_dataset["Diagnosis"]!=0
# Chunk 19
library(caret)
p <- 0.7
train_index <- sample(1:nrow(heart_disease_dataset), size = p*nrow(heart_disease_dataset))
data.A <- heart_disease_dataset[train_index,]
data.T <- heart_disease_dataset[-train_index,]
# Chunk 20
model <- glm(Diagnosis ~ ., data = data.A, family = binomial)
print(model)
# Chunk 21
n=length(data.A)
cat("R2 de Marc Fadden =", 1-model$deviance/model$null.deviance, ")\n")
cat("R2 de Cox et Snell =", 1-(model$deviance/model$null.deviance)^(2/n), ")\n")
cat("R2 de Nagelkerke =", (1-(model$deviance/model$null.deviance)^(2/n))/(1-(model$deviance)^(2/n)), ")\n")
# Chunk 22
llr <- 2 * (model$null.deviance - model$deviance)
df <- model$df.null - model$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
summary(model)
model <- glm(Diagnosis ~ ., data = data.A, family = binomial)
print(model)
library(MASS)
step.model <- stepAIC(model_diab,trace = FALSE)
coef(step.model)
library(MASS)
step.model <- stepAIC(model_diab,trace = FALSE)
coef(step.model)
model_diab<- glm(cmv ~ ., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
library(MASS)
step.model <- stepAIC(model_diab,trace = FALSE)
coef(step.model)
model_aKIRs<- glm(cmv ~ aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRs)
llr <- 2 * (model_aKIRs$null.deviance - model_aKIRs$deviance)
df <- model_aKIRs$df.null - model_aKIRs$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_diab<- glm(cmv ~ ., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_diab<- glm(cmv ~ ., data = cytomegalovirus, family = binomial)
print(model_diab)
llr <- 2 * (model_diab$null.deviance - model_diab$deviance)
df <- model_diab$df.null - model_diab$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
summary(model_diab)
model_aKIRs<- glm(cmv ~ age+sex+donor.cmv+aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRs)
llr <- 2 * (model_aKIRs$null.deviance - model_aKIRs$deviance)
df <- model_aKIRs$df.null - model_aKIRs$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_aKIRs<- glm(cmv ~ age+sex+donor.cmv, data = cytomegalovirus, family = binomial)
print(model_aKIRs)
llr <- 2 * (model_aKIRs$null.deviance - model_aKIRs$deviance)
df <- model_aKIRs$df.null - model_aKIRs$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
llr <- 2 * (model_aKIRspp$deviance - model_aKIRsmm$deviance)
df <- model_aKIRspp$df.residual - model_aKIRsmm$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_aKIRsmm<- glm(cmv ~ age+sex+donor.cmv, data = cytomegalovirus, family = binomial)
print(model_aKIRsmm)
llr <- 2 * (model_aKIRsmm$null.deviance - model_aKIRsmm$deviance)
df <- model_aKIRsmm$df.null - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_aKIRspp<- glm(cmv ~ age+sex+donor.cmv+aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRspp)
llr <- 2 * (model_aKIRspp$null.deviance - model_aKIRspp$deviance)
df <- model_aKIRspp$df.null - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
llr <- 2 * (model_aKIRspp$deviance - model_aKIRsmm$deviance)
df <- model_aKIRspp$df.residual - model_aKIRsmm$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
llr
df
model_aKIRspp<- glm(cmv ~ age+sex+donor.cmv+aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRspp)
llr <- 2 * (model_aKIRspp$null.deviance - model_aKIRspp$deviance)
df <- model_aKIRspp$df.null - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
llr
df
llr <- 2 * (model_aKIRsmm$deviance - model_aKIRspp$deviance)
df <- model_aKIRsmm$df.residual - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
fisher.test(cytomegalovirus)
fisher.test(na.omit(cytomegalovirus))
cyt_na=na.omit(cytomegalovirus)
data=c(cyt_na$cmv,cyt_na$aKIRs)
fisher.test(data)
data
fisher.test(cyt_na$cmv,cyt_na$aKIRs)
cyt_na$aKIRs
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$time.to.cmv,cyt_na$aKIRs)
cyt_na$time.to.cmv
load("cmv.rdata")
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$time.to.cmv,cyt_na$aKIRs)
memory.limit(size = 4096)
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$time.to.cmv,cyt_na$aKIRs)
memory.limit(size = 8096)
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$time.to.cmv,cyt_na$aKIRs)
memory.limit(size = 4096)
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$cmv,cyt_na$aKIRs)
cyt_na=na.omit(cytomegalovirus)
fisher.test(cyt_na$cmv,cyt_na$aKIRs)
model_aKIRspp<- glm(time.to.cmv ~ age+sex+donor.cmv+aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRspp)
llr <- 2 * (model_aKIRspp$null.deviance - model_aKIRspp$deviance)
df <- model_aKIRspp$df.null - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
model_aKIRspp<- glm(cmv ~ age+sex+donor.cmv+aKIRs, data = cytomegalovirus, family = binomial)
print(model_aKIRspp)
llr <- 2 * (model_aKIRspp$null.deviance - model_aKIRspp$deviance)
df <- model_aKIRspp$df.null - model_aKIRspp$df.residual
p_value <- 1 - pchisq(llr, df)
if(p_value < 0.05) {
cat("Le modèle logistique est significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
} else {
cat("Le modèle logistique n'est pas significativement meilleur que le modèle nul (p-value =", p_value, ")\n")
}
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs, data = cytomegalovirus)
print(fit)
library("survival")
library("survminer")
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs, data = cytomegalovirus)
print(fit)
ggsurvplot(fit,
pval = TRUE, conf.int = TRUE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF"))
ggsurvplot(fit,
pval = TRUE, conf.int = TRUE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#2E9FDF","#2D7CDF","#2E9FDF","#2E9FDF"))
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
print(fit)
ggsurvplot(fit,
pval = TRUE, conf.int = TRUE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#2E9FDF","#2D7CDF","#2E9FDF","#2E9FDF"))
ggsurvplot(fit,
pval = TRUE, conf.int = TRUE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
fit <- surdiff(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
print(fit)
fit <- surdiff(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
summary(fit)
fit <- surdiff(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
fit
fit <- surdiff(Surv(time.to.cmv, cmv) ~aKIRs, data = cytomegalovirus)
fit
fit <- survdiff(Surv(time.to.cmv, cmv) ~aKIRs, data = cytomegalovirus)
fit
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
print(fit)
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs, data = na.omit(cytomegalovirus))
print(fit)
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000")
fun = "cumhaz")
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"),
fun = "cumhaz")
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = FALSE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"),
fun = "cumhaz")
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = TRUE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = FALSE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = FALSE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"),
fun = "cumhaz")
fit <- survdiff(Surv(time.to.cmv, cmv) ~aKIRs+strata(recipient.cmv), data = cytomegalovirus)
fit
fit <- survfit(Surv(time.to.cmv, cmv) ~aKIRs+strata(recipient.cmv), data = na.omit(cytomegalovirus))
print(fit)
ggsurvplot(fit,
pval = TRUE, conf.int = FALSE,
risk.table = FALSE, # Add risk table
risk.table.col = "strata", # Change risk table color by groups
linetype = "strata", # Change line type by groups
surv.median.line = "hv", # Specify median survival
ggtheme = theme_bw(), # Change ggplot2 theme
palette = c("#E7B800", "#2E9FDF","#e7000f","#66e60b","#FF007F","#000000"))
