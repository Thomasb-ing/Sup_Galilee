 *GENERAL OPTIONS AND TYPE OF FINITE ELEMENTS 
 OPTI 'DIME' 2 'ELEM' 'QUA8'; 
   
 *Dimension Géometrique 
 *en metre (m) 
 L = 1.E-3 ; 
 H = 50.E-3 ; 
 h_ = 20.E-3 ; 
 d = 8.E-4 ; 
 d_lmax = 2.E-3 ; 
   
   
 *Propriété materiau 
   
 *Electrique 
 rho_elec = 1.E-6; 
   
 *Thermique 
 rho = 8400; 
 cp = 450; 
 lambda = 12; 
 h_conv = 5; 
   
 *Mécanique 
 v = 0.3; 
 E = 200; 
 alpha = 12.E-6; 
   
 *Calcul du rayon du cercle et son centre 
 *cos0 = '-' 1 d; 
 *sin0 = '/' ('-' H ('*' 2 h_)) 2 ; 
 *RAYON= '**'('+'('**' (cos0) 2) ('**' (sin0) 2) ) 0.5 ; 
   
 RAYON=(d**2+((H-2*h_)/2)**2)/(2*d); 
   
 LONG = H; 
 HAUT = L; 
   
 NLONG = 75; 
 NHAUT = 5; 
 NBASG = 30; 
 NBASD = 30; 
 NQCG = 50; 
 NQCD = 50; 
 N_BC= 20; 
   
 *CREATION OF POINTS SUPPORTING THE MESH 
 PA = 0. 0. ; 
 PB = h_ 0.; 
 PC = (0.5 * H) (d); 
 PD = (H-h_) (0.); 
 PE = LONG (0.); 
 PF = H (L+0.); 
 PG = 0. (L+0.); 
 PCEN =(0.5*LONG) (0.); 
   
 PCEN_ = (0.5*LONG) (d-RAYON); 
   
 *STRAIGHT LINES CONSTRUCTION (DROIT OR D) 
 LIAB = DROI NBASG PA PB; 
 LIDE = DROI NBASD PD PE; 
 LIEF = DROI NHAUT PE PF; 
 LIFG = DROI NLONG PF PG; 
 LIGA = DROI NHAUT PG PA; 
   
 *CONSTRUCTION OF CIRCLES (CERC OU C) 
 CE1 = CERC NQCG PB PCEN_ PC; 
 CE = CERC NQCD CE1 PCEN_ PD; 
 *CE = CERC N_BC 'PASS' PB PC PD; 
   
 *CLOSED CONTOUR OBTAINED FROM THE ELEMENTARY LINES ASSEMBLY 
 CO = LIAB ET CE ET LIDE ET LIEF ET LIFG ET LIGA; 
   
 NHAUT = 10; 
 NQCG = 20; 
 PH = (0.5*LONG) HAUT; 
 LIHG = DROI (NQCG - NHAUT) PH PG; 
 LIGA = DROI NHAUT PG PA; 
 CE1 = CERC NQCG PB PCEN_ PC; 
 SU1 = REGL 'DINI' 0.05 'DFIN' 0.01 (INVE CE1) (LIHG ET LIGA); 
 SU2 = SU1 SYME 'DROI' PCEN_ PH; 
 SU = SU1 ET SU2; 
 ELIM SU 1.E-9; 
 TRAC ((COUL ROUGE SU1) ET (COUL BLEU SU2)); 
   
 *HALF-CIRCLE MESH, UPPER AND LINES MESHES RETRIEVAL WITH 'POIN' ET 'ELEM' 
   
 CSU = CONT SU; 
 PCE = SU POIN 'SPHE' PCEN_ PC 1.E-9; 
 CE = CSU ELEM 'APPU' 'STRI' PCE; 
 TRAC CE; 
 LIST CE; 
 CE1 = CERC NQCG PB PCEN_ PC; 
 TRAC CE1; 
 TRAC PB ET PCEN_ ET PC 
 ; 
 LIST PB 
 ; 
 fin; 
